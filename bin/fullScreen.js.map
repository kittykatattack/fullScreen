{"version":3,"sources":["../src/fullScreen.js"],"names":[],"mappings":"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","file":"fullScreen.js","sourcesContent":["//The Fullscreen API is in flux and has a quirky browser\n//implementations. Here's a fix for it, thanks to Norman Paschke:\n//https://github.com/neovov/Fullscreen-API-Polyfill/blob/master/fullscreen-api-polyfill.js\n\n(function ( doc ) {\n\t// Use JavaScript script mode\n\t\"use strict\";\n\n\t/*global Element */\n\n\tvar pollute = true,\n\t\tapi,\n\t\tvendor,\n\t\tapis = {\n\t\t\t// http://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n\t\t\tw3: {\n\t\t\t\tenabled: \"fullscreenEnabled\",\n\t\t\t\telement: \"fullscreenElement\",\n\t\t\t\trequest: \"requestFullscreen\",\n\t\t\t\texit:    \"exitFullscreen\",\n\t\t\t\tevents: {\n\t\t\t\t\tchange: \"fullscreenchange\",\n\t\t\t\t\terror:  \"fullscreenerror\"\n\t\t\t\t}\n\t\t\t},\n\t\t\twebkit: {\n\t\t\t\tenabled: \"webkitIsFullScreen\",\n\t\t\t\telement: \"webkitCurrentFullScreenElement\",\n\t\t\t\trequest: \"webkitRequestFullScreen\",\n\t\t\t\texit:    \"webkitCancelFullScreen\",\n\t\t\t\tevents: {\n\t\t\t\t\tchange: \"webkitfullscreenchange\",\n\t\t\t\t\terror:  \"webkitfullscreenerror\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tmoz: {\n\t\t\t\tenabled: \"mozFullScreenEnabled\",\n\t\t\t\telement: \"mozFullScreenElement\",\n\t\t\t\trequest: \"mozRequestFullScreen\",\n\t\t\t\texit:    \"mozCancelFullScreen\",\n\t\t\t\tevents: {\n\t\t\t\t\tchange: \"mozfullscreenchange\",\n\t\t\t\t\terror:  \"mozfullscreenerror\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tms: {\n\t\t\t\tenabled: \"msFullscreenEnabled\",\n\t\t\t\telement: \"msFullscreenElement\",\n\t\t\t\trequest: \"msRequestFullscreen\",\n\t\t\t\texit:    \"msExitFullscreen\",\n\t\t\t\tevents: {\n\t\t\t\t\tchange: \"MSFullscreenChange\",\n\t\t\t\t\terror:  \"MSFullscreenError\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tw3 = apis.w3;\n\n\t// Loop through each vendor's specific API\n\tfor (vendor in apis) {\n\t\t// Check if document has the \"enabled\" property\n\t\tif (apis[vendor].enabled in doc) {\n\t\t\t// It seems this browser support the fullscreen API\n\t\t\tapi = apis[vendor];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction dispatch( type, target ) {\n\t\tvar event = doc.createEvent( \"Event\" );\n\n\t\tevent.initEvent( type, true, false );\n\t\ttarget.dispatchEvent( event );\n\t} // end of dispatch()\n\n\tfunction handleChange( e ) {\n\t\t// Recopy the enabled and element values\n\t\tdoc[w3.enabled] = doc[api.enabled];\n\t\tdoc[w3.element] = doc[api.element];\n\n\t\tdispatch( w3.events.change, e.target );\n\t} // end of handleChange()\n\n\tfunction handleError( e ) {\n\t\tdispatch( w3.events.error, e.target );\n\t} // end of handleError()\n\n\t// Pollute only if the API doesn't already exists\n\tif (pollute && !(w3.enabled in doc) && api) {\n\t\t// Add listeners for fullscreen events\n\t\tdoc.addEventListener( api.events.change, handleChange, false );\n\t\tdoc.addEventListener( api.events.error,  handleError,  false );\n\n\t\t// Copy the default value\n\t\tdoc[w3.enabled] = doc[api.enabled];\n\t\tdoc[w3.element] = doc[api.element];\n\n\t\t// Match the reference for exitFullscreen\n\t\tdoc[w3.exit] = doc[api.exit];\n\n\t\t// Add the request method to the Element's prototype\n\t\tElement.prototype[w3.request] = function () {\n\t\t\treturn this[api.request].apply( this, arguments );\n\t\t};\n\t}\n\n\t// Return the API found (or undefined if the Fullscreen API is unavailable)\n\treturn api;\n\n}( document ));\n\n\n//Here's the FullScreen class, which contains all the relevant\n//application code\n\nclass FullScreen {\n  constructor(element) {\n    this.element = element;\n    this.fullScreenScale = 1;\n  }\n\n  //`requestFullScreen` is used by `enableFullScreen` to launch\n  //fullscreen mode.\n  requestFullScreen() {\n    if (!document.fullscreenEnabled) {\n    console.log(this.element)\n      this.element.requestFullscreen();\n    }\n  };\n\n  //`exitFullScreen` is used by `enableFullScreen` to exit\n  //fullscreen mode.\n  exitFullScreen() {\n    if (document.fullscreenEnabled) {\n      document.exitFullscreen();\n    }\n  };\n\n  //`alignFullScreen` is called by `enableFullScreen` to center and\n  //align the element vertically or horizontally inside the users\n  //screen. It also sets `this.fullScreenScale` which can optionally\n  //be used by your application for setting things like the pointer's\n  //scale\n  alignFullScreen() {\n    let scaleX, scaleY;\n    \n    //Scale the element to the correct size.\n    //Figure out the scale amount on each axis.\n    scaleX = screen.width / this.element.width;\n    scaleY = screen.height / this.element.height;\n\n    //Set the scale based on whichever value is less: `scaleX` or `scaleY`.\n    this.fullScreenScale = Math.min(scaleX, scaleY);\n\n    //To center the element we need to inject some CSS\n    //and into the HTML document's `<style>` tag. Some\n    //browsers require an existing `<style>` tag to do this, so\n    //if no `<style>` tag already exists, let's create one and\n    //append it to the `<body>:\n    let styleSheets = document.styleSheets;\n    if (styleSheets.length === 0) {\n      let divNode = document.createElement(\"div\");\n      divNode.innerHTML = \"<style></style>\";\n      document.body.appendChild(divNode);\n    }\n    \n    //Unfortunately we also need to do some browser detection\n    //to inject the full screen CSS with the correct vendor \n    //prefix. So, let's find out what the `userAgent` is.\n    //`ua` will be an array containing lower-case browser names.\n    let ua = navigator.userAgent.toLowerCase(); \n\n    //Now Decide whether to center the canvas vertically or horizontally.\n    //Wide canvases should be centered vertically, and \n    //square or tall canvases should be centered horizontally.\n\n    if (this.element.width > this.element.height) {\n\n      //Center vertically.\n      //Add CSS to the stylesheet to center the canvas vertically.\n      //You need a version for each browser vendor, plus a generic\n      //version\n      //(Unfortunately the CSS string cannot include line breaks, so\n      //it all has to be on one long line.)\n      if (ua.indexOf(\"safari\") !== -1 || ua.indexOf(\"chrome\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-webkit-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain}\", 0);\n      }\n      else if (ua.indexOf(\"firefox\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-moz-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}\", 0);\n      }\n      else if (ua.indexOf(\"opera\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-o-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}\", 0);\n      }\n      else if (ua.indexOf(\"explorer\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-ms-full-screen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}\", 0);\n      }\n      else {\n        document.styleSheets[0].insertRule(\"canvas:fullscreen {position: fixed; width: 100%; height: auto; top: 0; right: 0; bottom: 0; left: 0; margin: auto; object-fit: contain;}\", 0);\n      }\n    } else {\n\n      //Center horizontally.\n      if (ua.indexOf(\"safari\") !== -1 || ua.indexOf(\"chrome\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-webkit-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}\", 0);\n      }\n      else if (ua.indexOf(\"firefox\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-moz-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}\", 0);\n      }\n      else if (ua.indexOf(\"opera\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-o-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}\", 0);\n      }\n      else if (ua.indexOf(\"msie\") !== -1) {\n        document.styleSheets[0].insertRule(\"canvas:-ms-full-screen {height: 100%; margin: 0 auto; object-fit: contain;}\", 0);\n      }\n      else {\n        document.styleSheets[0].insertRule(\"canvas:fullscreen {height: 100%; margin: 0 auto; object-fit: contain;}\", 0);\n      }\n    }\n  }\n\n  /*\n  Use `enableFullScreen` to make the browser display the game full screen.\n  It automatically centers the game canvas for the best fit. Optionally supply any number of ascii\n  keycodes as arguments to represent the keyboard keys that should exit fullscreen mode.\n  */\n  enableFullScreen(...exitKeyCodes) {\n\n    //Center and align the fullscreen element.\n    this.alignFullScreen();\n\n    //Add mouse and touch listeners to the canvas to enable\n    //fullscreen mode.\n    this.element.addEventListener(\"mouseup\", this.requestFullScreen.bind(this), false);\n    this.element.addEventListener(\"touchend\", this.requestFullScreen.bind(this), false);\n\n    if (exitKeyCodes) {\n      exitKeyCodes.forEach(keyCode => {\n        window.addEventListener(\n          \"keyup\",\n          (event) => {\n            if (event.keyCode === keyCode) {\n              this.exitFullScreen();\n            }\n            event.preventDefault();\n          }, \n          false\n        );\n      });\n    }\n  }\n}\n"]}